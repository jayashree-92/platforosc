<?xml version="1.0" encoding="utf-8"?>
<!--
	For more information on how to configure your ASP.NET application, please visit
	http://go.microsoft.com/fwlink/?LinkId=169433
	-->
<configuration>
	<configSections>
		<section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,log4net"/>
		<!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 -->
		<section name="entityFramework"
			type="System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"
			requirePermission="false"/>
		<sectionGroup name="system.web.webPages.razor"
			type="System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup, System.Web.WebPages.Razor, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35">
			<section name="host"
				type="System.Web.WebPages.Razor.Configuration.HostSection, System.Web.WebPages.Razor, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
				requirePermission="false"/>
			<section name="pages"
				type="System.Web.WebPages.Razor.Configuration.RazorPagesSection, System.Web.WebPages.Razor, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
				requirePermission="false"/>
		</sectionGroup>
	</configSections>
	<connectionStrings>
		<add name="AdminContext"
			connectionString="metadata=res://*/AdminModel.csdl|res://*/AdminModel.ssdl|res://*/AdminModel.msl;provider=System.Data.SqlClient;provider connection string=&quot;data source=WT84B10073TV00\MSDMUT11;initial catalog=HM;persist security info=True;Integrated Security=True;MultipleActiveResultSets=True;App=EntityFramework&quot;"
			providerName="System.Data.EntityClient"/>
		<add name="OperationsContext"
			connectionString="metadata=res://*/OperationsContext.csdl|res://*/OperationsContext.ssdl|res://*/OperationsContext.msl;provider=System.Data.SqlClient;provider connection string=&quot;data source=WT84B10073TV00\MSDMUT11;initial catalog=DMA_HM;persist security info=True;Integrated Security=True;MultipleActiveResultSets=True;App=EntityFramework&quot;"
			providerName="System.Data.EntityClient"/>
		<add name="OperationsSecureContext"
			connectionString="metadata=res://*/OperationsSecureModel.csdl|res://*/OperationsSecureModel.ssdl|res://*/OperationsSecureModel.msl;provider=System.Data.SqlClient;provider connection string=&quot;data source=WT84B10073TV00\MSDMUT11;initial catalog=HM_WIRES;persist security info=True;Integrated Security=True;MultipleActiveResultSets=True;App=EntityFramework;Column Encryption Setting=Enabled&quot;"
			providerName="System.Data.EntityClient"/>
		<add name="HMOpsSecureConnectionString"
			connectionString="Data Source=WT84B10073TV00\MSDMUT11;Initial Catalog=HM;Integrated Security=True; Max Pool Size=75; Min Pool Size=5;MultipleActiveResultSets=true;"/>
		<add name="HangfireContext"
			connectionString="Data Source=WT84B10073TV00\MSDMUT11;Initial Catalog=HM_JOBS;Integrated Security=True;Persist Security Info=True;MultipleActiveResultSets=True;"
			providerName="System.Data.SqlClient"/>
	</connectionStrings>
	<!-- < = &lt; > = &gt; " = &quot; ' = &apos; & = &amp; -->
	<appSettings>
		<add key="webpages:Version" value="2.0.0.0"/>
		<add key="webpages:Enabled" value="false"/>
		<add key="vs:EnableBrowserLink" value="false"/>
		<add key="aspnet:MaxJsonDeserializerMembers" value="150000"/>
		<add key="owin:AutomaticAppStartup" value="true"/>
		<add key="owin:appStartup" value="HM.Operations.Secure.Web.Startup"/>

		<!-- Environment Variable-->
		<add key="Environment" value="Test01"/>
		<add key="ShouldRedirectHttpRequest" value="true"/>		

		<!-- Mail Box Settings -->
		<add key="MailBoxName" value="hm-ops-qa"/>

		<add key="DigiSignatureFileName" value="HedgeMarkOperationsQA.pfx"/>

		<add key="FromMailAddress" value="no-reply-qa@bnymellon.com"/>
		<add key="ToMailAddress" value="Nadhiya.Rajendran@bnymellon.com,madhanraj.jayavel@bnymellon.com,Mohansrikant.RameshKumar@bnymellon.com"/>
		<add key="HMOpsFromAddress" value="hm-ops-dev@bnymellon.com"/>
		<add key="OpsSecureRootDirectory" value="\\svm1som30l02\hm-web03-test\HM-Operations-Secure\"/>
		<add key="ManagedAccountRootDirectory" value="\\svm1som30l02\hm-web03-test\HM-Operations\ManagedAccountFiles\"/>
		<add key="QueueManagerName" value="QD0283"/>
		<add key="ChannelConnectionName" value="mqm-qm254-dev.msg.dev.bnymellon.net"/>
		<add key="ChannelConnectionPort" value="1414"/>
		<add key="ClientChannelName" value="QD0283.DMO.CLIENT"/>
		<add key="SenderQueueName" value="DMO.EMX.DMO2EMX.OUTBOUND.T1.F"/>
		<add key="ReceiverQueueName" value="DMO.EMX.EMX2DMO.INBOUND.T1.F"/>
		<add key="ReceiverAckQueueName" value="DMO.EMX.EMX2DMO.ACK.T1.F"/>
	</appSettings>
	<system.web>
		<sessionState timeout="60" mode="InProc"></sessionState>
		<customErrors mode="Off" defaultRedirect="~/Home/Trouble"/>
		<compilation targetFramework="4.5">
			<assemblies>
				<add assembly="System.Runtime, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"/>
			</assemblies>
		</compilation>
		<httpRuntime targetFramework="4.8" maxRequestLength="512000" executionTimeout="30000" enableVersionHeader="false" enableHeaderChecking="true"/>
		<httpCookies requireSSL="true" httpOnlyCookies="true"/>
		<authentication mode="Forms">
			<forms loginUrl="~/Account/Login" timeout="60" slidingExpiration="true" name=".ASPXAUTHSECURE" domain="dev.innocap.com" requireSSL="true"/>
		</authentication>
		<machineKey validationKey="C50B3C89CB21F4F1422FF158A5B42D0E8DB8CB5CDA1742572A487D9401E3400267682B202B746511891C1BAF47F8D25C07F6C39A104696DB51F17C529AD3CABE"
			decryptionKey="8A9BE8FD67AF6979E7D20198CFEA50DD3D3799C77AF2B72F" validation="SHA1" compatibilityMode="Framework45"/>
		<pages>
			<namespaces>
				<add namespace="System.Web.Helpers"/>
				<add namespace="System.Web.Mvc"/>
				<add namespace="System.Web.Mvc.Ajax"/>
				<add namespace="System.Web.Mvc.Html"/>
				<add namespace="System.Web.Optimization"/>
				<add namespace="System.Web.Routing"/>
				<add namespace="System.Web.WebPages"/>
			</namespaces>
		</pages>

		<globalization uiCulture="en" culture="en-US"/>
		<!--<globalization culture="auto" uiCulture="auto"/>-->
	</system.web>
	<system.web.extensions>
		<scripting>
			<webServices>
				<jsonSerialization maxJsonLength="86753090"/>
			</webServices>
		</scripting>
	</system.web.extensions>
	<system.webServer>
		<validation validateIntegratedModeConfiguration="false"/>
		<rewrite>
			<outboundRules rewriteBeforeCache="true">
				<rule name="Remove Server header">
					<match serverVariable="RESPONSE_SERVER" pattern=".*"/>
					<action type="Rewrite" value=""/>
				</rule>
			</outboundRules>
			<rules>
				<rule name="Remove Modified Time from HTML JS CSS files">
					<match url="^(.*)\.[\d]{16}\.(css|js|html)"/>
					<conditions logicalGrouping="MatchAny"/>
					<action type="Rewrite" url="{R:1}.{R:2}"/>
				</rule>
				<rule name="Host Header Validation" enabled="true" stopProcessing="true">
					<match url="(.*)"/>
					<conditions>
						<add input="{HTTP_HOST}" pattern="([a-zA-Z0-9-_]+.)*bnymellon.com$" negate="true"/>
					</conditions>
					<action type="Redirect" url="https://bnymellon.com/"/>
				</rule>
			</rules>
		</rewrite>
		<modules>
			<add name="CASiteMinderWebagentModule" preCondition="integratedMode,bitness64"/>
			<add name="CASiteMinderWebagentModule-32" preCondition="integratedMode,bitness32"/>
		</modules>
		<security>
			<requestFiltering>
				<!-- In Bytes! -->
				<requestLimits maxAllowedContentLength="4294967295" maxQueryString="409600"/>
			</requestFiltering>
		</security>
		<staticContent>
			<remove fileExtension=".js"/>
			<mimeMap fileExtension=".js" mimeType="text/javascript; charset=utf-8"/>
		</staticContent>

		<httpProtocol>
			<customHeaders>
				<remove name="X-Powered-By"/>
				<remove name="SERVER"/>
				<add name="X-Frame-Options" value="DENY"/>
				<add name="X-Xss-Protection" value="1; mode=block"/>
				<add name="Strict-Transport-Security" value="max-age=31536000; includeSubDomains; preload"/>
				<add name="X-Content-Type-Options" value="nosniff"/>
				<add name="X-Content-Security-Policy" value="default-src 'self'"/>
				<add name="Cache-Control" value="no-store, no-cache, must-revalidate"/>
				<add name="Pragma" value="no-cache"/>
				<add name="Expires" value="0"/>
			</customHeaders>
		</httpProtocol>
		<isapiFilters>
			<filter name="SiteMinder Agent" path="C:\Program Files\CA\webagent\win64\bin\ISAPI6WebAgent.dll" enabled="true" preCondition="classicMode,bitness64"/>
			<filter name="SiteMinder Agent-32" path="C:\Program Files\CA\webagent\win32\bin\ISAPI6WebAgent.dll" enabled="true" preCondition="classicMode,bitness32"/>
		</isapiFilters>
	</system.webServer>
	<runtime>
		<gcServer enabled="true"/>
		<assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
			<dependentAssembly>
				<assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35"/>
				<bindingRedirect oldVersion="0.0.0.0-1.6.5135.21930" newVersion="1.6.5135.21930"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-13.0.0.0" newVersion="13.0.0.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="System.Buffers" publicKeyToken="cc7b13ffcd2ddd51" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-4.0.3.0" newVersion="4.0.3.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Microsoft.Web.Infrastructure" publicKeyToken="31bf3856ad364e35" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-2.0.0.0" newVersion="2.0.0.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Microsoft.Extensions.Configuration.Abstractions" publicKeyToken="adb9793829ddae60" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-6.0.0.0" newVersion="6.0.0.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Microsoft.IdentityModel.Protocols.OpenIdConnect" publicKeyToken="31bf3856ad364e35" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-6.23.1.0" newVersion="6.23.1.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Microsoft.IdentityModel.Tokens" publicKeyToken="31bf3856ad364e35" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-6.23.1.0" newVersion="6.23.1.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Microsoft.Extensions.Configuration" publicKeyToken="adb9793829ddae60" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-6.0.0.1" newVersion="6.0.0.1"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Microsoft.Extensions.Configuration.Binder" publicKeyToken="adb9793829ddae60" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-6.0.0.0" newVersion="6.0.0.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="System.Memory" publicKeyToken="cc7b13ffcd2ddd51" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-4.0.1.2" newVersion="4.0.1.2"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="System.Diagnostics.DiagnosticSource" publicKeyToken="cc7b13ffcd2ddd51" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-6.0.0.0" newVersion="6.0.0.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Microsoft.Bcl.AsyncInterfaces" publicKeyToken="cc7b13ffcd2ddd51" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-6.0.0.0" newVersion="6.0.0.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="System.Configuration.ConfigurationManager" publicKeyToken="cc7b13ffcd2ddd51" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-6.0.0.1" newVersion="6.0.0.1"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Azure.Core" publicKeyToken="92742159e12e44c8" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-1.25.0.0" newVersion="1.25.0.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Azure.Identity" publicKeyToken="92742159e12e44c8" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-1.7.0.0" newVersion="1.7.0.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Azure.Security.KeyVault.Secrets" publicKeyToken="92742159e12e44c8" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-4.4.0.0" newVersion="4.4.0.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="System.Runtime.CompilerServices.Unsafe" publicKeyToken="b03f5f7f11d50a3a" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-6.0.0.0" newVersion="6.0.0.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="System.Text.Json" publicKeyToken="cc7b13ffcd2ddd51" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-6.0.0.6" newVersion="6.0.0.6"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="System.IdentityModel.Tokens.Jwt" publicKeyToken="31bf3856ad364e35" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-6.23.1.0" newVersion="6.23.1.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Microsoft.IdentityModel.Protocols" publicKeyToken="31bf3856ad364e35" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-6.23.1.0" newVersion="6.23.1.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Microsoft.Identity.Client" publicKeyToken="0a613f4dd989e8ae" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-4.47.1.0" newVersion="4.47.1.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Microsoft.IdentityModel.Abstractions" publicKeyToken="31bf3856ad364e35" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-6.23.1.0" newVersion="6.23.1.0"/>
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35"/>
				<bindingRedirect oldVersion="1.0.0.0-5.2.9.0" newVersion="5.2.9.0"/>
			</dependentAssembly>
		</assemblyBinding>
	</runtime>
	<entityFramework>
		<defaultConnectionFactory type="System.Data.Entity.Infrastructure.SqlConnectionFactory, EntityFramework"/>
		<providers>
			<provider invariantName="System.Data.SqlClient" type="System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer"/>
		</providers>
	</entityFramework>
	<system.net>
	</system.net>
	<log4net>
		<appender name="SmtpAppender" type="log4net.Appender.SmtpAppender,log4net">
			<to value="hm-ops-dev@bnymellon.com"/>
			<from value="hm-ops-qa@bnymellon.com"/>
			<subject value="Operation Secure Log - TEST01"/>
			<smtpHost value="smtpe.bnymellon.net"/>
			<bufferSize value="512"/>
			<lossy value="false"/>
			<filter type="log4net.Filter.LevelRangeFilter">
				<levelMin value="INFO"/>
				<levelMax value="FATAL"/>
			</filter>
			<evaluator type="log4net.Core.LevelEvaluator,log4net">
				<threshold value="INFO"/>
			</evaluator>
			<layout type="log4net.Layout.PatternLayout,log4net">
				<conversionPattern value="%property{log4net:HostName} :: %-5level :: %message %newlineLogger: %logger%newlineMethod: %method%newlineThread: %thread%newlineDate: %date%newline%newline"/>
			</layout>
		</appender>
		<appender name="RollingFileAppenderXML" type="log4net.Appender.RollingFileAppender">
			<file type="log4net.Util.PatternString" value="\\svm1som30l01\hm-web03-test\HM-Operations-Secure-Logs\Test01\%property{log4net:HostName}\WebLogs\WebLog_"/>
			<appendToFile value="True"/>
			<datePattern value="yyyy-MM-dd'.xml'"/>
			<rollingStyle value="Composite"/>
			<maximumFileSize value="50MB"/>
			<maxSizeRollBackups value="-1"/>
			<staticLogFileName value="false"/>
			<layout type="log4net.Layout.XmlLayoutSchemaLog4j">
				<locationInfo value="true"/>
			</layout>
		</appender>
		<root>
			<level value="DEBUG"/>
			<appender-ref ref="SmtpAppender"/>
			<appender-ref ref="RollingFileAppenderXML"/>
		</root>
		<logger name="Hangfire" additivity="false">
			<level value="OFF"/>
		</logger>
	</log4net>
</configuration>